<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="css/style.css" />
    <title>Decretos App</title>
  </head>
  <body>
    <!-- Header -->
    <header id="header">
      <div
        class="container-fluid d-inline-flex justify-content-between align-items-center"
      >
        <div class="logo">
          <a href="http://localhost:5000/">
            <h1>LOGO xd</h1>
          </a>
        </div>
        <div class="search-container d-flex gap-2">
          <form id="search-form" action="/" method="GET">
            <input type="search" placeholder="Número" name="numero" />
            <input type="search" placeholder="Año" name="anho" />
            <button id="search-button" class="m-1" type="submit" value="search">
              Buscar
            </button>
          </form>
          <button id="add-filter">Agregar filtros</button>
        </div>
        <div class="filter-status">
          <h3>Estás viendo: <%= title %></h3>
        </div>
      </div>
    </header>
    <!-- /Header -->

    <!-- Main -->
    <main>
      <table class="tabla-decretos table table-bordered">
        <thead>
          <tr>
            <th scope="col">Número</th>
            <th scope="col">Año</th>
            <th scope="col">Fecha</th>
            <th scope="col">Fecha de publi.</th>
            <th scope="col">Cant. de art.</th>
            <th scope="col">Firmantes</th>
            <th scope="col">Publicación</th>
            <th scope="col">Núm. publi.</th>
            <th scope="col">Pág. publi.</th>
            <th scope="col">Tomo biblioteca</th>
            <th scope="col">Anexo</th>
            <th scope="col">Ley promul.</th>
            <th scope="col">Ley vetada</th>
            <th scope="col">Parte vetada</th>
            <th scope="col">Ratif. ley</th>
            <th scope="col">Ratif. pendiente</th>
            <th scope="col">Ley reglamentada</th>
            <th scope="col">Tema</th>
            <th scope="col">Título</th>
            <th scope="col">Estado</th>
            <th scope="col">Modif. por</th>
            <th scope="col">Modif. a</th>
            <th scope="col">Link publi.</th>
            <th scope="col">Ref. normativas</th>
            <th scope="col">Observaciones</th>
            <th scope="col">Fecha de carga</th>
            <th scope="col">Tipeo (Dictado)</th>
            <th scope="col">Deroga decreto</th>
            <th scope="col">Derogado por</th>
          </tr>
        </thead>
        <tbody>
          <% data.forEach((decreto) => {%>
          <tr>
            <td><%= decreto.numero %></td>
            <td><%= decreto.anho %></td>
            <td><%= decreto.fecha.toLocaleDateString() %></td>
            <td><%= decreto.fecha_pub.toLocaleDateString() %></td>
            <td><%= decreto.cant_art %></td>
            <td><%= decreto.firmantes %></td>
            <td><%= decreto.publicacion %></td>
            <td><%= decreto.num_publi %></td>
            <td><%= decreto.pag_publi %></td>
            <td><%= decreto.tomo_biblioteca %></td>
            <td><%= decreto.anexo %></td>
            <td><%= decreto.ley_promulgada %></td>
            <td><%= decreto.ley_vetada %></td>
            <td><%= decreto.parte_vetada %></td>
            <td><%= decreto.ratif_ley %></td>
            <td><%= decreto.ratif_pendiente %></td>
            <td><%= decreto.ley_reglamentada %></td>
            <td class="long-text"><%= decreto.tema %></td>
            <td class="long-text"><%= decreto.titulo %></td>
            <td><%= decreto.estado %></td>
            <td><%= decreto.modificado_por %></td>
            <td><%= decreto.modifica_a %></td>
            <td><%= decreto.link_publi %></td>
            <td><%= decreto.ref_normativas %></td>
            <td><%= decreto.observaciones %></td>
            <td><%= decreto.fecha_carga.toLocaleDateString() %></td>
            <td><%= decreto.tipeo_dictado %></td>
            <td><%= decreto.deroga_dec %></td>
            <td><%= decreto.derogado_por %></td>
          </tr>
          <% }); %>
        </tbody>
      </table>
    </main>
    <!-- /Main -->

    <script src="js/index.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
